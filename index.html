<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>POS System Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/style.css" rel="stylesheet">
    <style>
        /* Optional: Add some initial styles to hide sections */
        .content-section {
            display: none;
        }
    </style>
</head>
<body>
<div id="wrapper">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg " id="navigate">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img class="pos-logo" src="Assets/img.png">
            </a>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <span class="nav-link" id="dashboard-nav">Dashboard</span>
                    </li>
                    <li class="nav-item">
                        <span class="nav-link" id="customer-nav">Customer</span>
                    </li>
                    <li class="nav-item">
                        <span class="nav-link" id="item-nav">Item</span>
                    </li>
                    <li class="nav-item">
                        <span class="nav-link" id="order-nav">Order</span>
                    </li>
                    <li class="nav-item">
                        <span class="nav-link" id="order-history-nav">Order History</span>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <!-- Dashboard Section -->
        <div class="content-section" id="dashboard-section" style="display: block;">
            <div class="container-fluid">
                <!-- Dashboard Cards Section -->
                <div class="row mt-4">
                    <div class="col-lg-4 mb-4">
                        <div class="card shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title">Total Customers</h5>
                                <p class="card-text">Manage all customer information.</p>
                                <a class="btn btn-primary" data-bs-target="#customerModal" data-bs-toggle="modal"
                                   href="#">Register Customer</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 mb-4">
                        <div class="card shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title">Total Products</h5>
                                <p class="card-text">Manage store inventory.</p>
                                <a class="btn btn-primary" href="#">Add Product</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 mb-4">
                        <div class="card shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title">Total Orders</h5>
                                <p class="card-text">View and manage customer orders.</p>
                                <a class="btn btn-primary" href="#">View Orders</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Manage Customers Section -->
        <div class="content-section " id="customer-section">
            <h2>Manage Customers</h2>
            <div class="card my-4">
                <div class="card-header">Customer Details</div>
                <div class="card-body">
                    <form id="customerForm">
                        <div class="row mb-3">
                            <div class="col" >
                                <label for="CustomerId" class="form-label">Customer ID</label>
                                <div >
                                    <input type="text" class="form-control border border-black" id="CustomerId" readonly>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col">
                                <label class="form-label" for="firstName">First Name</label>
                                <input class="form-control" id="firstName" placeholder="Enter First Name" required
                                       type="text">
                            </div>
                            <div class="col">
                                <label class="form-label" for="lastName">Last Name</label>
                                <input class="form-control" id="lastName" placeholder="Enter Last Name" required
                                       type="text">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col">
                                <label class="form-label" for="mobile">Mobile Number</label>
                                <input class="form-control" id="mobile" placeholder="Enter Mobile Number" required
                                       type="text">
                            </div>
                            <div class="col">
                                <label class="form-label" for="email">Email</label>
                                <input class="form-control" id="email" placeholder="Enter Email" required type="email">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="address">Address</label>
                            <textarea class="form-control" id="address" placeholder="Enter Address" required
                                      rows="3"></textarea>
                        </div>
                        <div class="btns">
                            <button class="btn btn-primary" id="customer_add_btn" type="button">Add Customer</button>
                            <button class="btn btn-danger" id="customer_delete_btn" type="button">Delete Customer</button>
                            <button class="btn btn-warning" id="customer_update_btn" type="button">Update Customer</button>
                            <button class="btn btn-info" id="customer_search_btn" type="button">Search Customer</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Customer List Table -->
            <div class="table-section">
                <h3>Customer List</h3>
                <table class="table table-striped">
                    <thead>
                    <tr>

                        <th scope="col">Customer_ID</th>
                        <th scope="col">First Name</th>
                        <th scope="col">Last Name</th>
                        <th scope="col">Mobile</th>
                        <th scope="col">Email</th>
                        <th scope="col">Address</th>
                    </tr>
                    </thead>
                    <tbody id="customerTableBody">
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Manage Items Section -->
        <div class="content-section" id="item-section">
            <h2>Manage Items</h2>
            <div class="card my-4">
                <div class="card-header">Item Details</div>
                <div class="card-body">
                    <form id="itemForm">
                        <div class="row mb-3">
                            <div class="col" >
                                <label for="itemId" class="form-label">ITEM ID</label>
                                <div >
                                    <input type="text" class="form-control border border-black" id="itemId" readonly>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col">
                                <div class="col">
                                    <label class="form-label" for="itemName">Item Name</label>
                                    <input class="form-control" id="itemName" placeholder="Enter Item Name" required
                                           type="text">
                                </div>
                                <div class="col">
                                    <label class="form-label" for="itemTypeBtn">Item Type</label>
                                    <div class="dropdown">
                                        <button class="btn btn-secondary dropdown-toggle" id="itemTypeBtn" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                            Select Item Type
                                        </button>
                                        <ul class="dropdown-menu" aria-labelledby="itemTypeBtn">
                                            <li><a class="dropdown-item item-type-option" href="#">Food</a></li>
                                            <li><a class="dropdown-item item-type-option" href="#">Beverage</a></li>
                                            <li><a class="dropdown-item item-type-option" href="#">Stationeries</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col">
                                <label class="form-label" for="itemPrice">Unit Price</label>
                                <input class="form-control" id="itemPrice" placeholder="Enter Unit Price" required
                                       type="number">
                            </div>
                            <div class="col">
                                <label class="form-label" for="itemQuantity">Quantity</label>
                                <input class="form-control" id="itemQuantity" placeholder="Enter Quantity" required
                                       type="number">
                            </div>
                        </div>
                        <div class="btns">
                            <button class="btn btn-primary" id="item_add_btn" type="button">Add Item</button>
                            <button class="btn btn-danger" id="item_delete_btn" type="button">Delete Item</button>
                            <button class="btn btn-warning" id="item_update_btn" type="button">Update Item</button>
                            <button class="btn btn-info" id="item_search_btn" type="button">Search Item</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Item List Table -->
            <div class="table-section">
                <h3>Item List</h3>
                <table class="table table-striped">
                    <thead>
                    <tr>
                        <th scope="col">Item ID</th>
                        <th scope="col">Item Name</th>
                        <th scope="col">Quantity</th>
                        <th scope="col">Unit Price</th>
                        <th scope="col">Item Type</th>
                    </tr>
                    </thead>
                    <tbody id="itemTableBody">
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Order Section -->
        <div class="content-section" id="order-section">
            <!-- Order Form -->
            <div class="order-wrapper">
                <div class="card my-4">
                    <div class="card-body">
                        <form id="orderForm">

                                <div class="mb-3">
                                    <div id="order-customer">
                                        <div id="order-first-row" class="col">
                                            <div class="col" >
                                                <label for="inputOrderId" class="form-label">Order ID</label>
                                                <div >
                                                    <input type="text" class="form-control border border-black" id="inputOrderId" readonly>
                                                </div>
                                            </div>
                                            <div >
                                                <label for="inputCustomerId" class="form-label">Select Customer</label>
                                                <select class="form-select" id="inputCustomerId" required>
                                                    <option selected disabled value="">Choose Customer</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div  class="col">
                                            <label for="inputCustomerName" class="form-label">Customer Name</label>
                                            <div >
                                                <input class="form-control border border-black" type="text" id="inputCustomerName" aria-label="readonly input example" readonly>
                                            </div>
                                        </div>
                                    </div>

                                <div id="order-dates" class="mb-3">
                                    <label class="form-label" for="date">Date:</label>
                                    <input class="form-control" id="date" type="date">
                                </div>
                                </div>
                            <div class="row mb-3">
                                <div id="item-order-sec">
                                    <div class="col">
                                        <label for="itemSelect" class="form-label">Select Item</label>
                                        <select class="form-select" id="itemSelect" required>
                                            <option selected disabled value="">Choose an item</option>
                                        </select>
                                    </div>
                                    <div class="col">
                                        <label for="inputOrderModel" class="form-label">Model</label>
                                        <div>
                                            <input class="form-control border border-black" type="text" id="inputOrderModel" aria-label="readonly input example" readonly>
                                        </div>
                                    </div>
                                </div>
                                <div id="order-qty-sec"></div>
                                <div class="col">
                                    <label for="inputOnHandQty" class="form-label" >On Hand Quantity</label>
                                    <div >
                                        <input class="form-control border border-black" type="text" id="inputOnHandQty" aria-label="readonly input example" readonly>
                                    </div>
                                </div>
                                <div class="col">
                                    <label for="quantity" class="form-label">Quantity</label>
                                    <input type="number" class="form-control" id="quantity" placeholder="Enter quantity" required>
                                </div>
                            </div>
                            <button type="button" class="btn btn-primary w-100" onclick="addItemToOrder()">Add Item to Order</button>
                        </form>
                    </div>
                </div>


                <div class="card my-4" id="orderdetail-sec">

                    <div class="card-body">
                        <!-- Order Table -->
                        <h3 class="mt-5">Order Details</h3>
                        <div class="table-responsive">
                            <table  id="order-table" class="table table-bordered table-striped mt-3">
                                <thead>
                                <tr>
                                    <th>Customer</th>
                                    <th>Item</th>
                                    <th>Quantity</th>
                                    <th>Price</th>
                                    <th>Total</th>
                                    <th>Actions</th>
                                </tr>
                                </thead>
                                <tbody id="orderTableBody">
                                <!-- Order items will be added here -->
                                </tbody>
                            </table>
                        </div>


                        <!-- Order Total & Place Order Button -->
                        <div class="d-flex justify-content-between align-items-center">
                            <h4 id="orderTotal">Order Total: $0.00</h4>
                            <button class="btn btn-success" onclick="placeOrder()">Place Order</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>




        <!-- Order History Section (wrap with new div) -->
        <div class="content-section" id="order-history-section" style="display: none;">
            <h2>Order History</h2>
            <table class="table table-bordered table-striped mt-3">
                <thead>
                <tr>
                    <th>Order Date</th>
                    <th>Customer Name</th>
                    <th>Total Price</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody id="orderHistoryBody">
                <!-- Order rows will be added here -->
                </tbody>
            </table>
        </div>
        <!-- Modal to Show Order Details -->
        <div aria-hidden="true" aria-labelledby="orderDetailsModalLabel" class="modal fade" id="orderDetailsModal"
             tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="orderDetailsModalLabel">Order Items</h5>
                        <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                    </div>
                    <div class="modal-body">
                        <ul class="list-group" id="orderItemsList">
                            <!-- Order items will be dynamically added here -->
                        </ul>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="Assets/lib/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    let dashboard_nav = document.getElementById("dashboard-nav");
    let customer_nav = document.getElementById("customer-nav");
    let item_nav = document.getElementById("item-nav");
    let order_nav = document.getElementById("order-nav");
    let order_history_nav = document.getElementById("order-history-nav");

    let dashboard_section = document.getElementById("dashboard-section");
    let customer_section = document.getElementById("customer-section");
    let item_section = document.getElementById("item-section");
    let order_section = document.getElementById("order-section");
    let order_history_section = document.getElementById("order-history-section");

    function hideAllSections() {
        dashboard_section.style.display = "none";
        customer_section.style.display = "none";
        item_section.style.display = "none";
        order_section.style.display = "none";
        order_history_section.style.display = "none";
    }

    dashboard_nav.addEventListener('click', function () {
        hideAllSections();
        dashboard_section.style.display = "block";
    });

    customer_nav.addEventListener('click', function () {
        hideAllSections();
        customer_section.style.display = "block";
    });

    item_nav.addEventListener('click', function () {
        hideAllSections();
        item_section.style.display = "block";
    });

    order_nav.addEventListener('click', function () {
        hideAllSections();
        order_section.style.display = "block";
    });

    order_history_nav.addEventListener('click', function () {
        hideAllSections();
        order_history_section.style.display = "block";
    });
</script>
<script type="module" src="Controller/CustomerController.js"></script>
<script type="module" src="Controller/ItemController.js"></script>
<script type="module" src="Controller/OrderController.js"></script>
</body>
</html>
